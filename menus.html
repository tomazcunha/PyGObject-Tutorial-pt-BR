

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Menus &mdash; documentação Python GTK+ 3 Tutorial 3.4</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Índice"
              href="genindex.html"/>
        <link rel="search" title="Buscar" href="search.html"/>
    <link rel="top" title="documentação Python GTK+ 3 Tutorial 3.4" href="index.html"/>
        <link rel="next" title="Tabela" href="layout-table.html"/>
        <link rel="prev" title="22. Aplicação" href="application.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> Python GTK+ 3 Tutorial
          

          
          </a>

          
            
            
              <div class="version">
                3.4
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="install.html">1. Instalação</a></li>
<li class="toctree-l1"><a class="reference internal" href="introduction.html">2. Começando</a></li>
<li class="toctree-l1"><a class="reference internal" href="basics.html">3. Noções básicas</a></li>
<li class="toctree-l1"><a class="reference internal" href="unicode.html">4. Como Lidar com Sequências de Caracteres</a></li>
<li class="toctree-l1"><a class="reference internal" href="layout.html">5. Containers de Layout</a></li>
<li class="toctree-l1"><a class="reference internal" href="label.html">6. Label</a></li>
<li class="toctree-l1"><a class="reference internal" href="entry.html">7. Entry</a></li>
<li class="toctree-l1"><a class="reference internal" href="button_widgets.html">8. Widgets de Botão</a></li>
<li class="toctree-l1"><a class="reference internal" href="progressbar.html">9. Barra de Progresso</a></li>
<li class="toctree-l1"><a class="reference internal" href="spinner.html">10. Spinner</a></li>
<li class="toctree-l1"><a class="reference internal" href="treeview.html">11. Widgets de Árvore e Lista</a></li>
<li class="toctree-l1"><a class="reference internal" href="cellrenderers.html">12. CellRenderers</a></li>
<li class="toctree-l1"><a class="reference internal" href="combobox.html">13. ComboBox</a></li>
<li class="toctree-l1"><a class="reference internal" href="iconview.html">14. IconView</a></li>
<li class="toctree-l1"><a class="reference internal" href="textview.html">15. Editor de Texto Multilinha</a></li>
<li class="toctree-l1"><a class="reference internal" href="dialogs.html">16. Dialogs</a></li>
<li class="toctree-l1"><a class="reference internal" href="popover.html">17. Popovers</a></li>
<li class="toctree-l1"><a class="reference internal" href="clipboard.html">18. Clipboard</a></li>
<li class="toctree-l1"><a class="reference internal" href="drag_and_drop.html">19. Arraste e solte</a></li>
<li class="toctree-l1"><a class="reference internal" href="builder.html">20. Glade e Gtk.Builder</a></li>
<li class="toctree-l1"><a class="reference internal" href="objects.html">21. Objects</a></li>
<li class="toctree-l1"><a class="reference internal" href="application.html">22. Aplicação</a></li>
</ul>
<p class="caption"><span class="caption-text">Descontinuada</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Menus</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#actions">Ações</a></li>
<li class="toctree-l2"><a class="reference internal" href="#ui-manager">Gerenciador de IU</a></li>
<li class="toctree-l2"><a class="reference internal" href="#example">Exemplo</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="layout-table.html">Tabela</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Python GTK+ 3 Tutorial</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Menus</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/menus.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="menus">
<h1>Menus<a class="headerlink" href="#menus" title="Link permanente para este título">¶</a></h1>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last"><a class="reference external" href="https://lazka.github.io/pgi-docs/Gtk-3.0/classes/UIManager.html#Gtk.UIManager" title="(em Gtk 3.0 v3.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Gtk.UIManager</span></code></a>, <a class="reference external" href="https://lazka.github.io/pgi-docs/Gtk-3.0/classes/Action.html#Gtk.Action" title="(em Gtk 3.0 v3.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Gtk.Action</span></code></a> e <a class="reference external" href="https://lazka.github.io/pgi-docs/Gtk-3.0/classes/ActionGroup.html#Gtk.ActionGroup" title="(em Gtk 3.0 v3.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Gtk.ActionGroup</span></code></a> foram descontinuados desde o GTK+ versão 3.10 e não devem ser usados em código recém-escrito. Use o framework <a class="reference internal" href="application.html#application"><span class="std std-ref">Aplicação</span></a>.</p>
</div>
<p>O GTK+ vem com dois tipos diferentes de menus <a class="reference external" href="https://lazka.github.io/pgi-docs/Gtk-3.0/classes/MenuBar.html#Gtk.MenuBar" title="(em Gtk 3.0 v3.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Gtk.MenuBar</span></code></a> e <a class="reference external" href="https://lazka.github.io/pgi-docs/Gtk-3.0/classes/Toolbar.html#Gtk.Toolbar" title="(em Gtk 3.0 v3.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Gtk.Toolbar</span></code></a>. <a class="reference external" href="https://lazka.github.io/pgi-docs/Gtk-3.0/classes/MenuBar.html#Gtk.MenuBar" title="(em Gtk 3.0 v3.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Gtk.MenuBar</span></code></a> é uma barra de menus padrão que contém uma ou mais instâncias <a class="reference external" href="https://lazka.github.io/pgi-docs/Gtk-3.0/classes/MenuItem.html#Gtk.MenuItem" title="(em Gtk 3.0 v3.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Gtk.MenuItem</span></code></a> ou uma de suas subclasses. Os widgets <a class="reference external" href="https://lazka.github.io/pgi-docs/Gtk-3.0/classes/Toolbar.html#Gtk.Toolbar" title="(em Gtk 3.0 v3.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Gtk.Toolbar</span></code></a> são usados para acessibilidade rápida às funções comumente usadas de um aplicativo. Exemplos incluem criar um novo documento, imprimir uma página ou desfazer uma operação. Ele contém uma ou mais instâncias de <a class="reference external" href="https://lazka.github.io/pgi-docs/Gtk-3.0/classes/ToolItem.html#Gtk.ToolItem" title="(em Gtk 3.0 v3.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Gtk.ToolItem</span></code></a> ou uma de suas subclasses.</p>
<div class="section" id="actions">
<h2>Ações<a class="headerlink" href="#actions" title="Link permanente para este título">¶</a></h2>
<p>Embora existam APIs específicas para criar menus e barras de ferramentas, você deve usar <a class="reference external" href="https://lazka.github.io/pgi-docs/Gtk-3.0/classes/UIManager.html#Gtk.UIManager" title="(em Gtk 3.0 v3.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Gtk.UIManager</span></code></a> e criar instâncias <a class="reference external" href="https://lazka.github.io/pgi-docs/Gtk-3.0/classes/Action.html#Gtk.Action" title="(em Gtk 3.0 v3.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Gtk.Action</span></code></a>. As ações são organizadas em grupos. A <a class="reference external" href="https://lazka.github.io/pgi-docs/Gtk-3.0/classes/ActionGroup.html#Gtk.ActionGroup" title="(em Gtk 3.0 v3.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Gtk.ActionGroup</span></code></a> é essencialmente um mapa de nomes para objetos <a class="reference external" href="https://lazka.github.io/pgi-docs/Gtk-3.0/classes/Action.html#Gtk.Action" title="(em Gtk 3.0 v3.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Gtk.Action</span></code></a>. Todas as ações que fazem sentido usar em um contexto particular devem estar em um único grupo. Vários grupos de ação podem ser usados para uma interface de usuário específica. Na verdade, espera-se que a maioria dos aplicativos não triviais faça uso de vários grupos. Por exemplo, em um aplicativo que pode editar vários documentos, um grupo mantém ações globais (por exemplo, sair, sobre, novo) e um grupo por documento que contém ações que atuam nesse documento (por exemplo, salvar, recortar/copiar/colar etc. ). Os menus de cada janela seriam construídos a partir de uma combinação de dois grupos de ação.</p>
<p>Existem classes diferentes representando diferentes tipos de ações:</p>
<ul class="simple">
<li><a class="reference external" href="https://lazka.github.io/pgi-docs/Gtk-3.0/classes/Action.html#Gtk.Action" title="(em Gtk 3.0 v3.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Gtk.Action</span></code></a>: Uma ação que pode ser acionada por um item de menu ou barra de ferramentas</li>
<li><a class="reference external" href="https://lazka.github.io/pgi-docs/Gtk-3.0/classes/ToggleAction.html#Gtk.ToggleAction" title="(em Gtk 3.0 v3.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Gtk.ToggleAction</span></code></a>: Uma ação que pode ser alternada entre dois estados</li>
<li><a class="reference external" href="https://lazka.github.io/pgi-docs/Gtk-3.0/classes/RadioAction.html#Gtk.RadioAction" title="(em Gtk 3.0 v3.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Gtk.RadioAction</span></code></a>: Uma ação da qual apenas um em um grupo pode estar ativo</li>
<li><a class="reference external" href="https://lazka.github.io/pgi-docs/Gtk-3.0/classes/RecentAction.html#Gtk.RecentAction" title="(em Gtk 3.0 v3.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Gtk.RecentAction</span></code></a>: Uma ação que representa uma lista de arquivos usados recentemente</li>
</ul>
<p>Ações representam operações que o usuário pode executar, juntamente com algumas informações sobre como ele deve ser apresentado na interface, incluindo seu nome (não para exibição), seu rótulo (para exibição), um acelerador, se um rótulo também indica uma dica de ferramenta como o retorno que é chamado quando a ação é ativada.</p>
<p>Você pode criar ações chamando um dos construtores diretamente e adicionando-os a um <a class="reference external" href="https://lazka.github.io/pgi-docs/Gtk-3.0/classes/ActionGroup.html#Gtk.ActionGroup" title="(em Gtk 3.0 v3.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Gtk.ActionGroup</span></code></a> chamando <a class="reference external" href="https://lazka.github.io/pgi-docs/Gtk-3.0/classes/ActionGroup.html#Gtk.ActionGroup.add_action" title="(em Gtk 3.0 v3.0)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Gtk.ActionGroup.add_action()</span></code></a> ou <a class="reference external" href="https://lazka.github.io/pgi-docs/Gtk-3.0/classes/ActionGroup.html#Gtk.ActionGroup.add_action_with_accel" title="(em Gtk 3.0 v3.0)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Gtk.ActionGroup.add_action_with_accel()</span></code></a>, ou chamando uma das funções de conveniência:</p>
<ul class="simple">
<li><a class="reference external" href="https://lazka.github.io/pgi-docs/Gtk-3.0/classes/ActionGroup.html#Gtk.ActionGroup.add_actions" title="(em Gtk 3.0 v3.0)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Gtk.ActionGroup.add_actions()</span></code></a>,</li>
<li><a class="reference external" href="https://lazka.github.io/pgi-docs/Gtk-3.0/classes/ActionGroup.html#Gtk.ActionGroup.add_toggle_actions" title="(em Gtk 3.0 v3.0)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Gtk.ActionGroup.add_toggle_actions()</span></code></a></li>
<li><a class="reference external" href="https://lazka.github.io/pgi-docs/Gtk-3.0/classes/ActionGroup.html#Gtk.ActionGroup.add_radio_actions" title="(em Gtk 3.0 v3.0)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Gtk.ActionGroup.add_radio_actions()</span></code></a>.</li>
</ul>
<p>Observe que você deve especificar ações para submenus e itens de menu.</p>
</div>
<div class="section" id="ui-manager">
<h2>Gerenciador de IU<a class="headerlink" href="#ui-manager" title="Link permanente para este título">¶</a></h2>
<p><a class="reference external" href="https://lazka.github.io/pgi-docs/Gtk-3.0/classes/UIManager.html#Gtk.UIManager" title="(em Gtk 3.0 v3.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Gtk.UIManager</span></code></a> fornece uma maneira fácil de criar menus e barras de ferramentas usando uma descrição <a class="reference external" href="http://developer.gnome.org/gtk3/stable/GtkUIManager.html#XML-UI">XML-like</a>.</p>
<p>Primeiro de tudo, você deve adicionar o <a class="reference external" href="https://lazka.github.io/pgi-docs/Gtk-3.0/classes/ActionGroup.html#Gtk.ActionGroup" title="(em Gtk 3.0 v3.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Gtk.ActionGroup</span></code></a> ao UI Manager com <a class="reference external" href="https://lazka.github.io/pgi-docs/Gtk-3.0/classes/UIManager.html#Gtk.UIManager.insert_action_group" title="(em Gtk 3.0 v3.0)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Gtk.UIManager.insert_action_group()</span></code></a>. Neste ponto também é uma boa idéia dizer à janela pai para responder aos atalhos de teclado especificados, usando <a class="reference external" href="https://lazka.github.io/pgi-docs/Gtk-3.0/classes/UIManager.html#Gtk.UIManager.get_accel_group" title="(em Gtk 3.0 v3.0)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Gtk.UIManager.get_accel_group()</span></code></a> e <a class="reference external" href="https://lazka.github.io/pgi-docs/Gtk-3.0/classes/Window.html#Gtk.Window.add_accel_group" title="(em Gtk 3.0 v3.0)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Gtk.Window.add_accel_group()</span></code></a>.</p>
<p>Em seguida, você pode definir o layout visível real dos menus e barras de ferramentas e adicionar o layout da interface do usuário. Essa “string ui” usa um formato XML, no qual você deve mencionar os nomes das ações que você já criou. Lembre-se de que esses nomes são apenas os identificadores que usamos ao criar as ações. Eles não são o texto que o usuário verá nos menus e nas barras de ferramentas. Fornecemos esses nomes legíveis quando criamos as ações.</p>
<p>Finalmente, você recupera o widget raiz com <a class="reference external" href="https://lazka.github.io/pgi-docs/Gtk-3.0/classes/UIManager.html#Gtk.UIManager.get_widget" title="(em Gtk 3.0 v3.0)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Gtk.UIManager.get_widget()</span></code></a> e adiciona o widget a um container como <a class="reference external" href="https://lazka.github.io/pgi-docs/Gtk-3.0/classes/Box.html#Gtk.Box" title="(em Gtk 3.0 v3.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Gtk.Box</span></code></a>.</p>
</div>
<div class="section" id="example">
<h2>Exemplo<a class="headerlink" href="#example" title="Link permanente para este título">¶</a></h2>
<img alt="_images/menu_example.png" src="_images/menu_example.png" />
<div class="highlight-default notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>  1
  2
  3
  4
  5
  6
  7
  8
  9
 10
 11
 12
 13
 14
 15
 16
 17
 18
 19
 20
 21
 22
 23
 24
 25
 26
 27
 28
 29
 30
 31
 32
 33
 34
 35
 36
 37
 38
 39
 40
 41
 42
 43
 44
 45
 46
 47
 48
 49
 50
 51
 52
 53
 54
 55
 56
 57
 58
 59
 60
 61
 62
 63
 64
 65
 66
 67
 68
 69
 70
 71
 72
 73
 74
 75
 76
 77
 78
 79
 80
 81
 82
 83
 84
 85
 86
 87
 88
 89
 90
 91
 92
 93
 94
 95
 96
 97
 98
 99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">gi</span>
<span class="n">gi</span><span class="o">.</span><span class="n">require_version</span><span class="p">(</span><span class="s1">&#39;Gtk&#39;</span><span class="p">,</span> <span class="s1">&#39;3.0&#39;</span><span class="p">)</span>
<span class="kn">from</span> <span class="nn">gi.repository</span> <span class="k">import</span> <span class="n">Gtk</span><span class="p">,</span> <span class="n">Gdk</span>

<span class="n">UI_INFO</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">&lt;ui&gt;</span>
<span class="s2">  &lt;menubar name=&#39;MenuBar&#39;&gt;</span>
<span class="s2">    &lt;menu action=&#39;FileMenu&#39;&gt;</span>
<span class="s2">      &lt;menu action=&#39;FileNew&#39;&gt;</span>
<span class="s2">        &lt;menuitem action=&#39;FileNewStandard&#39; /&gt;</span>
<span class="s2">        &lt;menuitem action=&#39;FileNewFoo&#39; /&gt;</span>
<span class="s2">        &lt;menuitem action=&#39;FileNewGoo&#39; /&gt;</span>
<span class="s2">      &lt;/menu&gt;</span>
<span class="s2">      &lt;separator /&gt;</span>
<span class="s2">      &lt;menuitem action=&#39;FileQuit&#39; /&gt;</span>
<span class="s2">    &lt;/menu&gt;</span>
<span class="s2">    &lt;menu action=&#39;EditMenu&#39;&gt;</span>
<span class="s2">      &lt;menuitem action=&#39;EditCopy&#39; /&gt;</span>
<span class="s2">      &lt;menuitem action=&#39;EditPaste&#39; /&gt;</span>
<span class="s2">      &lt;menuitem action=&#39;EditSomething&#39; /&gt;</span>
<span class="s2">    &lt;/menu&gt;</span>
<span class="s2">    &lt;menu action=&#39;ChoicesMenu&#39;&gt;</span>
<span class="s2">      &lt;menuitem action=&#39;ChoiceOne&#39;/&gt;</span>
<span class="s2">      &lt;menuitem action=&#39;ChoiceTwo&#39;/&gt;</span>
<span class="s2">      &lt;separator /&gt;</span>
<span class="s2">      &lt;menuitem action=&#39;ChoiceThree&#39;/&gt;</span>
<span class="s2">    &lt;/menu&gt;</span>
<span class="s2">  &lt;/menubar&gt;</span>
<span class="s2">  &lt;toolbar name=&#39;ToolBar&#39;&gt;</span>
<span class="s2">    &lt;toolitem action=&#39;FileNewStandard&#39; /&gt;</span>
<span class="s2">    &lt;toolitem action=&#39;FileQuit&#39; /&gt;</span>
<span class="s2">  &lt;/toolbar&gt;</span>
<span class="s2">  &lt;popup name=&#39;PopupMenu&#39;&gt;</span>
<span class="s2">    &lt;menuitem action=&#39;EditCopy&#39; /&gt;</span>
<span class="s2">    &lt;menuitem action=&#39;EditPaste&#39; /&gt;</span>
<span class="s2">    &lt;menuitem action=&#39;EditSomething&#39; /&gt;</span>
<span class="s2">  &lt;/popup&gt;</span>
<span class="s2">&lt;/ui&gt;</span>
<span class="s2">&quot;&quot;&quot;</span>

<span class="k">class</span> <span class="nc">MenuExampleWindow</span><span class="p">(</span><span class="n">Gtk</span><span class="o">.</span><span class="n">Window</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">Gtk</span><span class="o">.</span><span class="n">Window</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Menu Example&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">set_default_size</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="mi">200</span><span class="p">)</span>

        <span class="n">action_group</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">ActionGroup</span><span class="p">(</span><span class="s2">&quot;my_actions&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">add_file_menu_actions</span><span class="p">(</span><span class="n">action_group</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_edit_menu_actions</span><span class="p">(</span><span class="n">action_group</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_choices_menu_actions</span><span class="p">(</span><span class="n">action_group</span><span class="p">)</span>

        <span class="n">uimanager</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">create_ui_manager</span><span class="p">()</span>
        <span class="n">uimanager</span><span class="o">.</span><span class="n">insert_action_group</span><span class="p">(</span><span class="n">action_group</span><span class="p">)</span>

        <span class="n">menubar</span> <span class="o">=</span> <span class="n">uimanager</span><span class="o">.</span><span class="n">get_widget</span><span class="p">(</span><span class="s2">&quot;/MenuBar&quot;</span><span class="p">)</span>

        <span class="n">box</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">Box</span><span class="p">(</span><span class="n">orientation</span><span class="o">=</span><span class="n">Gtk</span><span class="o">.</span><span class="n">Orientation</span><span class="o">.</span><span class="n">VERTICAL</span><span class="p">)</span>
        <span class="n">box</span><span class="o">.</span><span class="n">pack_start</span><span class="p">(</span><span class="n">menubar</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

        <span class="n">toolbar</span> <span class="o">=</span> <span class="n">uimanager</span><span class="o">.</span><span class="n">get_widget</span><span class="p">(</span><span class="s2">&quot;/ToolBar&quot;</span><span class="p">)</span>
        <span class="n">box</span><span class="o">.</span><span class="n">pack_start</span><span class="p">(</span><span class="n">toolbar</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

        <span class="n">eventbox</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">EventBox</span><span class="p">()</span>
        <span class="n">eventbox</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">&quot;button-press-event&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_button_press_event</span><span class="p">)</span>
        <span class="n">box</span><span class="o">.</span><span class="n">pack_start</span><span class="p">(</span><span class="n">eventbox</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

        <span class="n">label</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="s2">&quot;Right-click to see the popup menu.&quot;</span><span class="p">)</span>
        <span class="n">eventbox</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">label</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">popup</span> <span class="o">=</span> <span class="n">uimanager</span><span class="o">.</span><span class="n">get_widget</span><span class="p">(</span><span class="s2">&quot;/PopupMenu&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">box</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">add_file_menu_actions</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">action_group</span><span class="p">):</span>
        <span class="n">action_filemenu</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">Action</span><span class="p">(</span><span class="s2">&quot;FileMenu&quot;</span><span class="p">,</span> <span class="s2">&quot;File&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="n">action_group</span><span class="o">.</span><span class="n">add_action</span><span class="p">(</span><span class="n">action_filemenu</span><span class="p">)</span>

        <span class="n">action_filenewmenu</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">Action</span><span class="p">(</span><span class="s2">&quot;FileNew&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">STOCK_NEW</span><span class="p">)</span>
        <span class="n">action_group</span><span class="o">.</span><span class="n">add_action</span><span class="p">(</span><span class="n">action_filenewmenu</span><span class="p">)</span>

        <span class="n">action_new</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">Action</span><span class="p">(</span><span class="s2">&quot;FileNewStandard&quot;</span><span class="p">,</span> <span class="s2">&quot;_New&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Create a new file&quot;</span><span class="p">,</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">STOCK_NEW</span><span class="p">)</span>
        <span class="n">action_new</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">&quot;activate&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_menu_file_new_generic</span><span class="p">)</span>
        <span class="n">action_group</span><span class="o">.</span><span class="n">add_action_with_accel</span><span class="p">(</span><span class="n">action_new</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>

        <span class="n">action_group</span><span class="o">.</span><span class="n">add_actions</span><span class="p">([</span>
            <span class="p">(</span><span class="s2">&quot;FileNewFoo&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;New Foo&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;Create new foo&quot;</span><span class="p">,</span>
             <span class="bp">self</span><span class="o">.</span><span class="n">on_menu_file_new_generic</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;FileNewGoo&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;_New Goo&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;Create new goo&quot;</span><span class="p">,</span>
             <span class="bp">self</span><span class="o">.</span><span class="n">on_menu_file_new_generic</span><span class="p">),</span>
        <span class="p">])</span>

        <span class="n">action_filequit</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">Action</span><span class="p">(</span><span class="s2">&quot;FileQuit&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">STOCK_QUIT</span><span class="p">)</span>
        <span class="n">action_filequit</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">&quot;activate&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_menu_file_quit</span><span class="p">)</span>
        <span class="n">action_group</span><span class="o">.</span><span class="n">add_action</span><span class="p">(</span><span class="n">action_filequit</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">add_edit_menu_actions</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">action_group</span><span class="p">):</span>
        <span class="n">action_group</span><span class="o">.</span><span class="n">add_actions</span><span class="p">([</span>
            <span class="p">(</span><span class="s2">&quot;EditMenu&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;Edit&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;EditCopy&quot;</span><span class="p">,</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">STOCK_COPY</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span>
             <span class="bp">self</span><span class="o">.</span><span class="n">on_menu_others</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;EditPaste&quot;</span><span class="p">,</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">STOCK_PASTE</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span>
             <span class="bp">self</span><span class="o">.</span><span class="n">on_menu_others</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;EditSomething&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;Something&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;control&gt;&lt;alt&gt;S&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span>
             <span class="bp">self</span><span class="o">.</span><span class="n">on_menu_others</span><span class="p">)</span>
        <span class="p">])</span>

    <span class="k">def</span> <span class="nf">add_choices_menu_actions</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">action_group</span><span class="p">):</span>
        <span class="n">action_group</span><span class="o">.</span><span class="n">add_action</span><span class="p">(</span><span class="n">Gtk</span><span class="o">.</span><span class="n">Action</span><span class="p">(</span><span class="s2">&quot;ChoicesMenu&quot;</span><span class="p">,</span> <span class="s2">&quot;Choices&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span>
            <span class="kc">None</span><span class="p">))</span>

        <span class="n">action_group</span><span class="o">.</span><span class="n">add_radio_actions</span><span class="p">([</span>
            <span class="p">(</span><span class="s2">&quot;ChoiceOne&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;One&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;ChoiceTwo&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;Two&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
        <span class="p">],</span> <span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_menu_choices_changed</span><span class="p">)</span>

        <span class="n">three</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">ToggleAction</span><span class="p">(</span><span class="s2">&quot;ChoiceThree&quot;</span><span class="p">,</span> <span class="s2">&quot;Three&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="n">three</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">&quot;toggled&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_menu_choices_toggled</span><span class="p">)</span>
        <span class="n">action_group</span><span class="o">.</span><span class="n">add_action</span><span class="p">(</span><span class="n">three</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">create_ui_manager</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">uimanager</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">UIManager</span><span class="p">()</span>

        <span class="c1"># Throws exception if something went wrong</span>
        <span class="n">uimanager</span><span class="o">.</span><span class="n">add_ui_from_string</span><span class="p">(</span><span class="n">UI_INFO</span><span class="p">)</span>

        <span class="c1"># Add the accelerator group to the toplevel window</span>
        <span class="n">accelgroup</span> <span class="o">=</span> <span class="n">uimanager</span><span class="o">.</span><span class="n">get_accel_group</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_accel_group</span><span class="p">(</span><span class="n">accelgroup</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">uimanager</span>

    <span class="k">def</span> <span class="nf">on_menu_file_new_generic</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">widget</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;A File|New menu item was selected.&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">on_menu_file_quit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">widget</span><span class="p">):</span>
        <span class="n">Gtk</span><span class="o">.</span><span class="n">main_quit</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">on_menu_others</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">widget</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Menu item &quot;</span> <span class="o">+</span> <span class="n">widget</span><span class="o">.</span><span class="n">get_name</span><span class="p">()</span> <span class="o">+</span> <span class="s2">&quot; was selected&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">on_menu_choices_changed</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">widget</span><span class="p">,</span> <span class="n">current</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">current</span><span class="o">.</span><span class="n">get_name</span><span class="p">()</span> <span class="o">+</span> <span class="s2">&quot; was selected.&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">on_menu_choices_toggled</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">widget</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">widget</span><span class="o">.</span><span class="n">get_active</span><span class="p">():</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">widget</span><span class="o">.</span><span class="n">get_name</span><span class="p">()</span> <span class="o">+</span> <span class="s2">&quot; activated&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">widget</span><span class="o">.</span><span class="n">get_name</span><span class="p">()</span> <span class="o">+</span> <span class="s2">&quot; deactivated&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">on_button_press_event</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">widget</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="c1"># Check if right mouse button was preseed</span>
        <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">Gdk</span><span class="o">.</span><span class="n">EventType</span><span class="o">.</span><span class="n">BUTTON_PRESS</span> <span class="ow">and</span> <span class="n">event</span><span class="o">.</span><span class="n">button</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">popup</span><span class="o">.</span><span class="n">popup</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="n">event</span><span class="o">.</span><span class="n">button</span><span class="p">,</span> <span class="n">event</span><span class="o">.</span><span class="n">time</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">True</span> <span class="c1"># event has been handled</span>

<span class="n">window</span> <span class="o">=</span> <span class="n">MenuExampleWindow</span><span class="p">()</span>        
<span class="n">window</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">&quot;destroy&quot;</span><span class="p">,</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">main_quit</span><span class="p">)</span>
<span class="n">window</span><span class="o">.</span><span class="n">show_all</span><span class="p">()</span>
<span class="n">Gtk</span><span class="o">.</span><span class="n">main</span><span class="p">()</span>
</pre></div>
</td></tr></table></div>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="layout-table.html" class="btn btn-neutral float-right" title="Tabela" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="application.html" class="btn btn-neutral" title="22. Aplicação" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright GNU Free Documentation License 1.3.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'3.4',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="_static/translations.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>