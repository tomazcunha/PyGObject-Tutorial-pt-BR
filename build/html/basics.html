

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>3. Noções básicas &mdash; documentação Python GTK+ 3 Tutorial 3.4</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Índice"
              href="genindex.html"/>
        <link rel="search" title="Buscar" href="search.html"/>
    <link rel="top" title="documentação Python GTK+ 3 Tutorial 3.4" href="index.html"/>
        <link rel="next" title="4. Como Lidar com Sequências de Caracteres" href="unicode.html"/>
        <link rel="prev" title="2. Começando" href="introduction.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> Python GTK+ 3 Tutorial
          

          
          </a>

          
            
            
              <div class="version">
                3.4
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="install.html">1. Instalação</a></li>
<li class="toctree-l1"><a class="reference internal" href="introduction.html">2. Começando</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">3. Noções básicas</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#main-loop-and-signals">3.1. Loop principal e sinais</a></li>
<li class="toctree-l2"><a class="reference internal" href="#properties">3.2. Propriedades</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="unicode.html">4. Como Lidar com Sequências de Caracteres</a></li>
<li class="toctree-l1"><a class="reference internal" href="layout.html">5. Containers de Layout</a></li>
<li class="toctree-l1"><a class="reference internal" href="label.html">6. Label</a></li>
<li class="toctree-l1"><a class="reference internal" href="entry.html">7. Entry</a></li>
<li class="toctree-l1"><a class="reference internal" href="button_widgets.html">8. Widgets de Botão</a></li>
<li class="toctree-l1"><a class="reference internal" href="progressbar.html">9. Barra de Progresso</a></li>
<li class="toctree-l1"><a class="reference internal" href="spinner.html">10. Spinner</a></li>
<li class="toctree-l1"><a class="reference internal" href="treeview.html">11. Widgets de Árvore e Lista</a></li>
<li class="toctree-l1"><a class="reference internal" href="cellrenderers.html">12. CellRenderers</a></li>
<li class="toctree-l1"><a class="reference internal" href="combobox.html">13. ComboBox</a></li>
<li class="toctree-l1"><a class="reference internal" href="iconview.html">14. IconView</a></li>
<li class="toctree-l1"><a class="reference internal" href="textview.html">15. Editor de Texto Multilinha</a></li>
<li class="toctree-l1"><a class="reference internal" href="dialogs.html">16. Dialogs</a></li>
<li class="toctree-l1"><a class="reference internal" href="popover.html">17. Popovers</a></li>
<li class="toctree-l1"><a class="reference internal" href="clipboard.html">18. Clipboard</a></li>
<li class="toctree-l1"><a class="reference internal" href="drag_and_drop.html">19. Arraste e solte</a></li>
<li class="toctree-l1"><a class="reference internal" href="builder.html">20. Glade e Gtk.Builder</a></li>
<li class="toctree-l1"><a class="reference internal" href="objects.html">21. Objects</a></li>
<li class="toctree-l1"><a class="reference internal" href="application.html">22. Aplicação</a></li>
</ul>
<p class="caption"><span class="caption-text">Descontinuada</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="menus.html">Menus</a></li>
<li class="toctree-l1"><a class="reference internal" href="layout-table.html">Tabela</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Python GTK+ 3 Tutorial</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>3. Noções básicas</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/basics.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="basics">
<span id="id1"></span><h1>3. Noções básicas<a class="headerlink" href="#basics" title="Link permanente para este título">¶</a></h1>
<p>Esta seção apresentará alguns dos aspectos mais importantes do GTK+.</p>
<div class="section" id="main-loop-and-signals">
<span id="signals"></span><h2>3.1. Loop principal e sinais<a class="headerlink" href="#main-loop-and-signals" title="Link permanente para este título">¶</a></h2>
<p>Como a maioria dos toolkits GUI, o GTK+ usa um modelo de programação orientada a eventos. Quando o usuário não está fazendo nada, o GTK+ fica no loop principal e aguarda a entrada. Se o usuário executar alguma ação - digamos, um clique do mouse - o loop principal “acorda” e entrega um evento para o GTK+.</p>
<p>Quando widgets recebem um evento, eles frequentemente emitem um ou mais sinais. Sinais notificam seu programa que “algo interessante aconteceu” invocando funções que você conectou ao sinal. Tais funções são comumente conhecidas como <em>callbacks</em>. Quando seus retornos de chamada são invocados, você normalmente toma algumas ações - por exemplo, quando um botão Abrir é clicado, você pode exibir uma caixa de diálogo de seleção de arquivos. Depois que um retorno de chamada terminar, o GTK+ retornará ao loop principal e aguardará mais entrada do usuário.</p>
<p>Um exemplo genérico é:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">handler_id</span> <span class="o">=</span> <span class="n">widget</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">&quot;event&quot;</span><span class="p">,</span> <span class="n">callback</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span>
</pre></div>
</div>
<p>Em primeiro lugar, <em>widget</em> é uma instância de um widget que criamos anteriormente. Em seguida, o evento em que estamos interessados. Cada widget tem seus próprios eventos específicos que podem ocorrer. Por exemplo, se você tem um botão, geralmente deseja se conectar ao evento “clicado”. Isso significa que quando o botão é clicado, o sinal é emitido. Em terceiro lugar, o argumento <em>callback</em> é o nome da função de retorno de chamada. Ele contém o código que é executado quando os sinais do tipo especificado são emitidos. Finalmente, o argumento <em>data</em> inclui todos os dados que devem ser passados quando o sinal é emitido. No entanto, esse argumento é completamente opcional e pode ser deixado de fora se não for necessário.</p>
<p>A função retorna um número que identifica esse par de retorno de chamada específico. É necessário desconectar de um sinal de modo que a função de retorno de chamada não seja chamada durante qualquer emissão futura ou atual do sinal ao qual está conectada.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">widget</span><span class="o">.</span><span class="n">disconnect</span><span class="p">(</span><span class="n">handler_id</span><span class="p">)</span>
</pre></div>
</div>
<p>Se você perdeu o “handler_id” por algum motivo (por exemplo, os manipuladores foram instalados usando <code class="xref py py-func docutils literal notranslate"><span class="pre">Gtk.Builder.connect_signals()</span></code>), você ainda pode desconectar um callback específico usando a função <code class="xref py py-func docutils literal notranslate"><span class="pre">disconnect_by_func()</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">widget</span><span class="o">.</span><span class="n">disconnect_by_func</span><span class="p">(</span><span class="n">callback</span><span class="p">)</span>
</pre></div>
</div>
<p>Os aplicativos devem se conectar ao sinal “destroy” da janela de nível superior. É emitido um objeto é destruído, portanto, quando um usuário solicita que uma janela de nível superior é fechada, o manipulador padrão para este sinal destrói a janela, mas não finaliza o aplicativo. Conectar o sinal “destroy” da janela de nível superior à função <a class="reference external" href="https://lazka.github.io/pgi-docs/Gtk-3.0/functions.html#Gtk.main_quit" title="(em Gtk 3.0 v3.0)"><code class="xref py py-func docutils literal notranslate"><span class="pre">Gtk.main_quit()</span></code></a> resultará no comportamento desejado.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">window</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">&quot;destroy&quot;</span><span class="p">,</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">main_quit</span><span class="p">)</span>
</pre></div>
</div>
<p>Chamar <a class="reference external" href="https://lazka.github.io/pgi-docs/Gtk-3.0/functions.html#Gtk.main_quit" title="(em Gtk 3.0 v3.0)"><code class="xref py py-func docutils literal notranslate"><span class="pre">Gtk.main_quit()</span></code></a> faz o loop principal dentro do retorno de <a class="reference external" href="https://lazka.github.io/pgi-docs/Gtk-3.0/functions.html#Gtk.main" title="(em Gtk 3.0 v3.0)"><code class="xref py py-func docutils literal notranslate"><span class="pre">Gtk.main()</span></code></a>.</p>
</div>
<div class="section" id="properties">
<h2>3.2. Propriedades<a class="headerlink" href="#properties" title="Link permanente para este título">¶</a></h2>
<p>Propriedades descrevem a configuração e o estado dos widgets. Quanto aos sinais, cada widget tem seu próprio conjunto particular de propriedades. Por exemplo, um botão tem a propriedade “label”, que contém o texto do widget de etiqueta dentro do botão. Você pode especificar o nome e o valor de qualquer número de propriedades como argumentos de palavras-chave ao criar uma instância de um widget. Para criar um rótulo alinhado à direita com o texto “Hello World” e um ângulo de 25 graus, use:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">label</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;Hello World&quot;</span><span class="p">,</span> <span class="n">angle</span><span class="o">=</span><span class="mi">25</span><span class="p">,</span> <span class="n">halign</span><span class="o">=</span><span class="n">Gtk</span><span class="o">.</span><span class="n">Align</span><span class="o">.</span><span class="n">END</span><span class="p">)</span>
</pre></div>
</div>
<p>que é equivalente a</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">label</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">Label</span><span class="p">()</span>
<span class="n">label</span><span class="o">.</span><span class="n">set_label</span><span class="p">(</span><span class="s2">&quot;Hello World&quot;</span><span class="p">)</span>
<span class="n">label</span><span class="o">.</span><span class="n">set_angle</span><span class="p">(</span><span class="mi">25</span><span class="p">)</span>
<span class="n">label</span><span class="o">.</span><span class="n">set_halign</span><span class="p">(</span><span class="n">Gtk</span><span class="o">.</span><span class="n">Align</span><span class="o">.</span><span class="n">END</span><span class="p">)</span>
</pre></div>
</div>
<p>Em vez de usar getters e setters, você também pode obter e definir as propriedades do gobject através da propriedade “props”, como <code class="docutils literal notranslate"><span class="pre">widget.props.prop_name</span> <span class="pre">=</span> <span class="pre">value</span></code>. Isto é equivalente ao mais detalhado <code class="docutils literal notranslate"><span class="pre">widget.get_property(&quot;prop-name&quot;)</span></code> e <code class="docutils literal notranslate"><span class="pre">widget.set_property(&quot;prop-name&quot;,</span> <span class="pre">value)</span></code>.</p>
<p>Para ver quais propriedades estão disponíveis para um widget na versão em execução do GTK, você pode usar “dir” com a propriedade “props”:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">widget</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">Box</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="nb">dir</span><span class="p">(</span><span class="n">widget</span><span class="o">.</span><span class="n">props</span><span class="p">))</span>
</pre></div>
</div>
<p>Isto irá imprimir no console a lista de propriedades que um Gtk.Box possui.</p>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="unicode.html" class="btn btn-neutral float-right" title="4. Como Lidar com Sequências de Caracteres" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="introduction.html" class="btn btn-neutral" title="2. Começando" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright GNU Free Documentation License 1.3.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'3.4',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="_static/translations.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>